# noise_calc.py

## 概要

`noise_calc.py` は、オペアンプの**入力換算ノイズ密度**（電圧ノイズ・電流ノイズ）と、周辺の**抵抗値**や**帯域幅**から、以下のような**アナログ回路設計で重要なノイズ特性**を計算する簡易ツールです：

- 電圧ノイズと電流ノイズが等しくなる最適抵抗値 \( R_{\mathrm{opt}} \) の計算
- 任意の抵抗値における各ノイズ項（電圧ノイズ・電流ノイズ・熱雑音）の評価
- 指定帯域幅でのトータルノイズ電圧（RMS）の見積もり

## 計算の目的

低ノイズ設計では、回路に使う抵抗値や流れる電流がノイズ性能に大きく影響します。本ツールでは、指定したオペアンプのノイズ特性から、**最小ノイズとなる条件**や、**設計中の条件でのノイズ評価**を行うことで、ノイズ対策設計の目安を提供します。

## 使用方法

1. Python 3 環境でファイルを実行します：

```
python noise_calc.py
```

2. スクリプト中の以下の定数を任意に変更します：

```python
e_n = 1.1e-9    # 入力電圧ノイズ密度 [V/√Hz]
i_n = 1.7e-12   # 入力電流ノイズ密度 [A/√Hz]
bandwidth = 20e3  # 使用する帯域幅 [Hz]
T = 300           # 動作温度 [K]（通常は300K）
```

3. 出力結果として、以下の情報が得られます：

- 最適抵抗 \( R_{\mathrm{opt}} = \frac{e_n}{i_n} \)
- その抵抗値での：
  - 電圧ノイズ密度
  - 電流ノイズによる換算電圧ノイズ密度
  - 抵抗の熱ノイズ
  - 総合ノイズ密度
  - 帯域幅に応じた RMS ノイズ電圧

## 応用

- 任意の抵抗値に対するノイズ計算機能を関数として提供しているため、インポートして GUI や他のシミュレーションスクリプトに組み込むことも可能です。
- オーディオ回路や計測用プリアンプなど、**超低ノイズ設計**の初期検討や部品選定に活用できます。

